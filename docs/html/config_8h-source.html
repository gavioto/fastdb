<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>config.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>config.h</h1><div class="fragment"><pre>00001 <span class="comment">//-&lt; CONFIG.H &gt;------------------------------------------------------*--------*</span>
00002 <span class="comment">// FastDB                    Version 1.0         (c) 1999  GARRET    *     ?  *</span>
00003 <span class="comment">// (Post Relational Database Management System)                      *   /\|  *</span>
00004 <span class="comment">//                                                                   *  /  \  *</span>
00005 <span class="comment">//                          Created:     21-Jan-2004  K.A. Knizhnik  * / [] \ *</span>
00006 <span class="comment">//                          Last update: 21-Jan-2004  K.A. Knizhnik  * GARRET *</span>
00007 <span class="comment">//-------------------------------------------------------------------*--------*</span>
00008 <span class="comment">// FastDB configuration definitions</span>
00009 <span class="comment">//-------------------------------------------------------------------*--------*</span>
00010 
00011 <span class="preprocessor">#ifndef __CONFIG_H__</span>
00012 <span class="preprocessor"></span><span class="preprocessor">#define __CONFIG_H__</span>
00013 <span class="preprocessor"></span>
00014 <span class="preprocessor">#if (defined(_WIN32) || defined(_WINCE)) &amp;&amp; (!defined(_CRT_SECURE_NO_DEPRECATE))</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define _CRT_SECURE_NO_DEPRECATE true</span>
00016 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00017 <span class="preprocessor"></span>
00018 <span class="comment">// USE_LOCALE_SETTINGS - use C locale for string comparison operations</span>
00019 <span class="preprocessor">#define USE_LOCALE_SETTINGS 1</span>
00020 <span class="preprocessor"></span>
00021 <span class="comment">// FASTDB_DEBUG - debug level</span>
00022 <span class="comment">//    - DEBUG_NONE - disable any checking and tracing (except asserts)</span>
00023 <span class="comment">//    - DEBUG_CHECK - disable trace message</span>
00024 <span class="comment">//    - DEBUG_TRACE_IMPORTANT - enable trace of important messages </span>
00025 <span class="comment">//    - DEBUG_TRACE_ALL - enable trace of all messages </span>
00026 <span class="preprocessor">#define FASTDB_DEBUG DEBUG_TRACE_IMPORTANT</span>
00027 <span class="preprocessor"></span><span class="comment">//#define FASTDB_DEBUG DEBUG_TRACE_ALL</span>
00028 
00029 <span class="comment">// USE_NAMESPACES - place FastDB classes in separate namespace  </span>
00030 <span class="comment">//#define USE_NAMESPACES 1</span>
00031 
00032 <span class="comment">// SECURE_SERVER - enable authentication for remote logins: keep user/password table, </span>
00033 <span class="comment">//   check password for remote logins</span>
00034 <span class="comment">//#define SECURE_SERVER 1</span>
00035 
00036 <span class="comment">// USE_QUEUE_MANAGER - use queue manager for internal HTTP server. </span>
00037 <span class="comment">//   This manager will manage pool of threads assigned for client connections. </span>
00038 <span class="comment">//   Otherwise all requests will be executed sequnetially in the main loop.</span>
00039 <span class="comment">//#define USE_QUEUE_MANAGER 1</span>
00040 
00041 
00042 <span class="comment">// FASTDB_DLL - create fastdb.dll</span>
00043 <span class="comment">//#define FASTDB_DLL 1</span>
00044 
00045 
00046 <span class="comment">// THROW_EXCEPTION_ON_ERROR - throw C++ exception in case of database error instead of abort()</span>
00047 <span class="preprocessor">#ifndef _WINCE</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#define THROW_EXCEPTION_ON_ERROR 1</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00050 <span class="preprocessor"></span>
00051 
00052 <span class="comment">//IGNORE_CASE - perform all string comparisons as case insensitive</span>
00053 <span class="comment">//#define IGNORE_CASE 1</span>
00054 
00055 <span class="comment">//USE_STD_STRING - accept std::string class as table field type</span>
00056 <span class="preprocessor">#ifdef _WIN32</span>
00057 <span class="preprocessor"></span><span class="preprocessor">#define USE_STD_STRING 1</span>
00058 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00059 <span class="preprocessor"></span>
00060 <span class="comment">//AUTOINCREMENT_SUPPORT - support autoincrement fields </span>
00061 <span class="comment">//  (database built with this flag will be incompatible with database built without it)</span>
00062 <span class="preprocessor">#define AUTOINCREMENT_SUPPORT 1</span>
00063 <span class="preprocessor"></span>
00064 <span class="comment">//CLONE_IDENTIFIERS - do not storef addresses of string constants in symbol table.</span>
00065 <span class="comment">//  This option is needed if DLL library using FastDB can be unloaded.</span>
00066 <span class="comment">//#define CLONE_IDENTIFIERS 1 </span>
00067 
00068 <span class="comment">//DISKLESS_CONFIGURATION - only in-memory temporary database</span>
00069 <span class="comment">//#define DISKLESS_CONFIGURATION 1</span>
00070 
00071 <span class="comment">// RECTANGLE_DIMENSION - dimension of built-in rectangle type</span>
00072 <span class="preprocessor">#define RECTANGLE_DIMENSION 2</span>
00073 <span class="preprocessor"></span>
00074 <span class="comment">// RECTANGLE_COORDINATE_TYPE - type of rectanlge's coordinates</span>
00075 <span class="preprocessor">#define RECTANGLE_COORDINATE_TYPE int</span>
00076 <span class="preprocessor"></span><span class="comment">//#define RECTANGLE_COORDINATE_TYPE double</span>
00077 
00078 <span class="comment">// RECTANGLE_AREA_TYPE - type of rectanlge's area</span>
00079 <span class="preprocessor">#define RECTANGLE_AREA_TYPE db_int8</span>
00080 <span class="preprocessor"></span><span class="comment">//#define RECTANGLE_AREA_TYPE double</span>
00081 
00082 <span class="comment">//SET_NULL_DACL - use NULL DACL security descriptor for all synchronization objects.</span>
00083 <span class="comment">//#define SET_NULL_DACL 1</span>
00084 
00085 <span class="comment">//INT8_IS_DEFINED - int8 type is defined at your system, in this case you should use db_int8 type instead</span>
00086 <span class="comment">//#define INT8_IS_DEFINED 1</span>
00087 
00088 <span class="comment">//USE_POSIX_SEMAPHORES use POSIX sem_* sempahores instead of SysV semaphores</span>
00089 <span class="comment">//     instead of SysV semaphores and shared memory</span>
00090 <span class="comment">//#define USE_POSIX_SEMAPHORES 1</span>
00091 
00092 
00093 <span class="comment">//USE_POSIX_MMAP - if 1 then use Posix mmap for mapping database file and monitor, </span>
00094 <span class="comment">//  if 0 - use SysV IPC shmem for allocating memory for database file and monitor,</span>
00095 <span class="comment">//  if not defined - use mmap for mapping database file and shmem for allocating monitor</span>
00096 <span class="comment">//#define USE_POSIX_MMAP 0</span>
00097 
00098 <span class="comment">//REPLICATION_SUPPORT - fault tolerant version of FastDB</span>
00099 <span class="comment">//#define REPLICATION_SUPPORT 1</span>
00100 
00101 <span class="comment">//NO_MMAP do not use OS mappig of file on virtual memory. FastDB will track modification of</span>
00102 <span class="comment">//  pages itself and save dirty pages in the file. If USE_POSIX_MMAP=0, memory for database is</span>
00103 <span class="comment">//  allocated using shmat() and database can be shared by several processes, </span>
00104 <span class="comment">//  otherwise - using valloc() and database can be accessed only by one process. </span>
00105 <span class="comment">//#define NO_MMAP 1</span>
00106 
00107 <span class="comment">//FUZZY_CHECKPOINT allows to increase application performance, by performing writing to the file in </span>
00108 <span class="comment">//  in a separate thread. In this case commit will not be blocked until all changes will be actually written to the disk,</span>
00109 <span class="comment">//  write requests will be just linked into the queue from which them will be taken by writting thread and proceeded</span>
00110 <span class="comment">//  in the same order as in commit. This apporach provides daatbase consistency in case of fault, but results</span>
00111 <span class="comment">//  of several recently committed transaction can be lost in this case.</span>
00112 <span class="comment">//  Fuzzy checkpointing works only in conjunction with NO_MMAP option, it means that data sharing is not allowed</span>
00113 <span class="comment">//  in this case - database can be accessed only by one application.</span>
00114 <span class="comment">//#define FUZZY_CHECKPOINT 1</span>
00115 
00116 
00117 <span class="comment">//USE_MFC - use MFC (include "afx.h" instead of "windows.h")</span>
00118 <span class="comment">//#define USE_MFC 1</span>
00119 
00120 <span class="comment">//USE_ATL - use Microsoft ATL </span>
00121 <span class="comment">//#define USE_ATL 1</span>
00122 
00123 <span class="comment">// Do not use member templates</span>
00124 <span class="preprocessor">#if defined(__SUNPRO_CC_COMPAT) &amp;&amp; __SUNPRO_CC_COMPAT == 4</span>
00125 <span class="preprocessor"></span><span class="preprocessor">#define  NO_MEMBER_TEMPLATES</span>
00126 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00127 <span class="preprocessor"></span>
00128 <span class="comment">// Automatically detect and recover crash of one or more database clients.</span>
00129 <span class="comment">// FastDB will start separate watchdog threads which will check if other processes working with database are </span>
00130 <span class="comment">// alive.</span>
00131 <span class="comment">// It is not recommended to use this mode because there are many cases whern it works incorrectly.</span>
00132 <span class="comment">// Preferable way of handling process failure is using of RECOVERABLE_CRITICAL_SECTION.</span>
00133 <span class="comment">//#define AUTO_DETECT_PROCESS_CRASH 1</span>
00134 
00135 <span class="comment">// Use recoverable critical section (operating system is able to release </span>
00136 <span class="comment">// critical section in case of crash of the process entered this critical section)</span>
00137 <span class="comment">//#define RECOVERABLE_CRITICAL_SECTION 1</span>
00138 
00139 <span class="comment">// Do not flush chafges to the disk during transaction commit. This option will greatly increase performance</span>
00140 <span class="comment">// but can cause database corruption in case of crash</span>
00141 <span class="comment">//#define NO_FLUSH_ON_COMMIT 1</span>
00142 
00143 <span class="comment">// dbDatabaseOidBits number of bits used to represent object identifier. </span>
00144 <span class="comment">// So the number of objects in database is limited by 2**dbDatabaseOidBits.</span>
00145 <span class="comment">// Default value of this parameter is 32, so maximal number of objects is limited by 2**32.</span>
00146 <span class="comment">// Support of larger number of objects is possible only at 64-bit OS</span>
00147 <span class="comment">// The value of this parameter is used to estimate size of bitmap, so do not assign unnecessarily </span>
00148 <span class="comment">// large values (for example 64)</span>
00149 <span class="comment">//#define dbDatabaseOidBits 33</span>
00150 
00151 <span class="comment">// dbDatabaseOffsetBits number of bits used to represent object offset in the storage</span>
00152 <span class="comment">// So the maximal database size is limited by 2**dbDatabaseOidBits.</span>
00153 <span class="comment">// Default value of this parameter is 32, so maximal number of objects is limited by 2**32.</span>
00154 <span class="comment">// Support of larger database size only at 64-bit OS</span>
00155 <span class="comment">// The value of this parameter is used to estimate size of bitmap, so do not assign unnecessarily </span>
00156 <span class="comment">// large values (for example 64)</span>
00157 <span class="comment">//#define dbDatabaseOffsetBits 38</span>
00158 
00159 <span class="comment">// USE_REGEX - use regex library. When this macro is defined GigaBASE provides</span>
00160 <span class="comment">// MATCH command. GNU regex or compatible library and headers should be available.</span>
00161 <span class="comment">//#define USE_REGEX true</span>
00162 
00163 <span class="comment">// Calling convention used for CLI callback functions</span>
00164 <span class="comment">// You should use stdcall convention if you want to use CSharp CLI API</span>
00165 <span class="comment">//#define CLI_CALLBACK_CC __stdcall</span>
00166 
00167 <span class="comment">// SOCK_LINGER - set SO_LINGER option. Value of SO_LINGER is specified using LINGER_TIME</span>
00168 <span class="comment">// #define SOCK_LINGER 1</span>
00169 
00170 
00171 <span class="comment">// Use reentrant version of localtime</span>
00172 <span class="preprocessor">#if !defined(__APPLE__) &amp;&amp; !defined(_WIN32)</span>
00173 <span class="preprocessor"></span><span class="preprocessor">#define HAVE_LOCALTIME_R</span>
00174 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00175 <span class="preprocessor"></span>
00176 <span class="comment">// Use reentrant version of localtime</span>
00177 <span class="preprocessor">#if !defined(__APPLE__) &amp;&amp; !defined(_WIN32) &amp;&amp; !defined(_AIX)</span>
00178 <span class="preprocessor"></span><span class="preprocessor">#define HAVE_GETHOSTBYNAME_R</span>
00179 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00180 <span class="preprocessor"></span>
00181 <span class="comment">// Protect replica from unintended access (data corruption)</span>
00182 <span class="comment">//#define PROTECT_DATABASE 1</span>
00183 
00184 <span class="comment">// Wait acknowledgment that transaction is delivered to all slave nodes</span>
00185 <span class="comment">//#define SYNCHRONOUS_REPLICATION true</span>
00186 
00187 <span class="comment">// PAD_HEADER - add pad field to the database header to make it possible to transfer </span>
00188 <span class="comment">// file between systems with different alignment rules</span>
00189 <span class="comment">// This pad field was unconditionally inserted in database header in 3.17 version</span>
00190 <span class="comment">// of Perst which breaks backward compatibility. Because of the customers concerns</span>
00191 <span class="comment">// in 3.39 version of Perst the "pad" field was wrapped with the following condition</span>
00192 <span class="comment">// #if dbDatabaseOffsetBits &gt; 32 &amp;&amp; defined(ALIGN_HEADER)</span>
00193 <span class="comment">// which in turn breaks compatibility with database created with 3.17-3.38 versions.</span>
00194 <span class="comment">// Finally in 3.44 the condition was repalced with </span>
00195 <span class="comment">// #if (dbDatabaseOffsetBits &gt; 32 &amp;&amp; defined(ALIGN_HEADER)) || defined(PAD_HEADER)</span>
00196 <span class="comment">// So you should uncomment definition of PAD_HEADER to preserve compatibility with databases </span>
00197 <span class="comment">// created by FastDB versions 3.17-3.38.</span>
00198 <span class="comment">//#define PAD_HEADER</span>
00199 
00200 <span class="comment">// ALIGN_HEADER - align each field of dbHeader class on its page boudary</span>
00201 <span class="comment">// to make it possible to transfer file between systems with different alignment rules</span>
00202 <span class="comment">//#define ALIGN_HEADER true</span>
00203 
00204 <span class="comment">// DO_NOT_REUSE_OID_WITHIN_SESSION - do not reuse OID of deallocated objects in the current session</span>
00205 <span class="comment">//#define DO_NOT_REUSE_OID_WITHIN_SESSION true</span>
00206 
00207 
00208 <span class="comment">// Use Doug Lea version of malloc instead of standard malloc</span>
00209 <span class="comment">//#define USE_DLMALLOC true</span>
00210 
00211 <span class="comment">// Invoke dbDatabase::handleError instead of assert for internal errors.</span>
00212 <span class="comment">// #define HANDLE_ASSERTION_FAILURES</span>
00213 
00214 <span class="preprocessor">#endif</span>
00215 <span class="preprocessor"></span>
</pre></div><hr><address style="align: right;"><small>Generated on Thu Feb 14 12:42:30 2008 for FastDB by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
